ğŸ–¨ï¸ GUÃA RÃPIDA: IMPRESORA TÃ‰RMICA EN HTF POS
============================================

ANTES DE EMPEZAR
================

âœ… AsegÃºrate de tener:
1. Impresora EC-PM-58110-USB conectada por USB
2. Drivers instalados (busca "EC-PM-58110 USB driver")
3. Python 3.8+ instalado
4. Las librerÃ­as actualizadas (pip install -r requirements.txt)

PASO 1: DETECTAR PUERTO
=======================

Abre una terminal en la carpeta del proyecto y ejecuta:

    python test_impresora.py

Selecciona opciÃ³n 1: "Detectar puertos COM disponibles"

VerÃ¡s algo como:
    1. COM1   - âŒ EN USO
    2. COM3   - âœ… DISPONIBLE  â† ESTE ES TU PUERTO
    3. COM4   - âŒ EN USO

Anota el puerto disponible (ej: COM3)

PASO 2: PROBAR CONEXIÃ“N
=======================

Sigue en el mismo terminal:

    python test_impresora.py

Selecciona opciÃ³n 2: "Probar conexiÃ³n bÃ¡sica"
Ingresa el puerto (ej: COM3)

Si ves:
    âœ… ConexiÃ³n exitosa en COM3
    âœ… Impresora inicializada
    âœ… Texto enviado a impresora

Â¡Excelente! Tu impresora estÃ¡ conectada.

PASO 3: PRUEBA COMPLETA
=======================

Una vez confirmada la conexiÃ³n, ejecuta:

    python test_impresora.py

Selecciona opciÃ³n 4: "Ejecutar todas las pruebas"
Sigue las instrucciones

La impresora debe imprimir un ticket de prueba.

Si todo funciona:
    âœ… Todas las pruebas completadas
    âœ… Puerto: COM3
    âœ… ConexiÃ³n: OK
    âœ… ImpresiÃ³n: OK

PASO 4: USAR EN EL SISTEMA
===========================

Ya estÃ¡ listo para usar. Cuando hagas una venta:

1. En la ventana de ventas, despuÃ©s de agregar productos
2. Presiona "Finalizar" o "Pagar"
3. Se abre ventana con el ticket
4. Presiona "Imprimir TÃ©rmica" â† Â¡NUEVO!
5. AutomÃ¡ticamente:
   - Imprime el ticket
   - Abre la caja registradora
   - Corta el papel

CAMBIAR PUERTO (Si necesitas COM1 en lugar de COM3)
====================================================

OPCIÃ“N A - Editar cÃ³digo (rÃ¡pido):

1. Abre el archivo: ui/ventas/nueva_venta.py
2. Busca la lÃ­nea: puerto = "COM3"
3. Cambia a tu puerto: puerto = "COM1"
4. Guarda y cierra

OPCIÃ“N B - Crear archivo de configuraciÃ³n (profesional):

1. Crea un archivo: config_impresora.json
2. Copia esto:

{
    "puerto_impresora": "COM3",
    "baudrate": 115200,
    "abrir_caja_automaticamente": true,
    "cortar_papel_automaticamente": true,
    "timeout_conexion": 2.0,
    "nombre_tienda": "HTF GIMNASIO",
    "subtitulo_tienda": "PUNTO DE VENTA"
}

3. Cambia "COM3" por tu puerto
4. Guarda en la carpeta del proyecto

SOLUCIONAR PROBLEMAS
====================

ERROR: "No se pudo conectar a la impresora en COM3"
SOLUCIÃ“N:
  1. Verifica que la impresora estÃ© conectada (luz verde)
  2. Ejecuta test_impresora.py opciÃ³n 1
  3. Busca el puerto correcto
  4. Actualiza el puerto en la configuraciÃ³n

ERROR: "Timeout de conexiÃ³n"
SOLUCIÃ“N:
  1. Aumenta timeout en config_impresora.json a 3.0 o 4.0
  2. AsegÃºrate que el cable USB estÃ© bien conectado
  3. Intenta en otro puerto USB de la computadora

ERROR: "La caja no se abre"
SOLUCIÃ“N:
  1. Verifica el cable de caja registradora (conectado a 12V)
  2. Abre manualmente la caja para confirmar que funciona
  3. Cambia "abrir_caja_automaticamente" a false en config

ERROR: "ImpresiÃ³n cortada o con caracteres extraÃ±os"
SOLUCIÃ“N:
  1. Verifica que tienes el driver correcto de EC-PM-58110
  2. Prueba reduciendo baudrate a 9600
  3. Verifica compatibilidad ESC/POS de tu impresora

BOTONES EN LA VENTANA DE VENTAS
================================

DESPUÃ‰S DE HACER UNA VENTA, VERÃS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TICKET DE VENTA #001234     â”‚
â”‚  (Contenido del ticket)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ–¨ï¸  Imprimir TÃ©rmica]      â”‚ â† NUEVO - ESC/POS
â”‚ [ğŸ–¨ï¸  Imprimir Sistema]      â”‚ â† Impresora del PC
â”‚ [âŒ Cerrar]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IMPRIMIR TÃ‰RMICA = Impresora fÃ­sica conectada por USB
IMPRIMIR SISTEMA = Impresora configurada en Windows

CARACTERÃSTICAS DE LA IMPRESORA TÃ‰RMICA
=====================================

âœ“ Imprime automÃ¡ticamente el ticket
âœ“ Abre la caja registradora (automÃ¡tico)
âœ“ Corta el papel (automÃ¡tico)
âœ“ Especificaciones:
  - Ancho de papel: 58mm
  - Velocidad: 110mm/seg
  - Interface: USB/Serial
  - Protocolo: ESC/POS

TECLAS DE ATAJO (En desarrollo)
================================

[Ctrl+P] = Imprimir rÃ¡pido
[Ctrl+T] = Test de impresora

(AÃºn no implementadas, solo manual por ahora)

CONSEJOS
========

1. DespuÃ©s de cada venta, espera a que termine de imprimir antes de nuevo ticket
2. Verifica que siempre haya papel en la impresora
3. Limpia los rodillos cada semana
4. MantÃ©n la impresora lejos del agua y polvo
5. Enchufa correctamente (110V o 220V segÃºn tu zona)

DATOS QUE IMPRIME EN CADA TICKET
================================

âœ“ Nombre de la tienda (HTF GIMNASIO)
âœ“ NÃºmero de ticket (secuencial)
âœ“ Fecha y hora
âœ“ Nombre del cajero
âœ“ Productos comprados (nombre, cantidad, precio, subtotal)
âœ“ Total de la venta
âœ“ MÃ©todo de pago
âœ“ Mensaje de agradecimiento
âœ“ LÃ­nea de corte

SOPORTE
=======

Si algo no funciona:

1. Ejecuta: python test_impresora.py
2. Elige la opciÃ³n correspondiente
3. El sistema te dirÃ¡ exactamente quÃ© estÃ¡ mal

Â¿Sigue sin funcionar?
- Desconecta y vuelve a conectar la impresora
- Reinicia la computadora
- Verifica drivers en el sitio del fabricante
- Prueba con otro cable USB

CONTACTO
========

Para mÃ¡s ayuda o reportar problemas:
- Revisa INTEGRACION_IMPRESORA_ESCPOS.md
- Revisa README_IMPRESORA_TERMICA.md
- Ejecuta el script de prueba: python test_impresora.py

Â¡DISFRUTA DE TU NUEVA IMPRESORA TÃ‰RMICA! ğŸ–¨ï¸âœ¨
